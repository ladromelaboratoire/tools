<meta charset="utf-8" emacsmode="-*- markdown -*-"><link rel="stylesheet" href="https://casual-effects.com/markdeep/latest/slate.css?">

                        **JsonLoader**
                           Version 1.0


Charge un doscument JSON en tableau associatif. Très utile pour lire la configuration d'une application.  
Permet également d'envoyer certaine données en variable d'environnement.


Fonctionnalités
==============================================================

Supporté
--------------------------------------------------------------
- Charger un Json en tableau
- Charger un fichier en variable d'environnement

Non supporté
--------------------------------------------------------------
- Tout le reste

Installation
==============================================================
Ce module PHP tire parti du gestionnaire de dépendances [Composer](https://getcomposer.org)

Pré-requis
--------------------------------------------------------------
- PHP 7.2+
- Composer

Usage simple
--------------------------------------------------------------
Pour un usage simple, la copie de ce dépôt dans un dous dossier de votre arborescence web suffit.  
Avant de lancer votre navigateur, utiliser composer à la racine du dépôt pour qu'il mette à jour les dépendences et surtout crée le fichier `autoload.php`. La ligne de commande est ici votre meilleur amie : `composer update`

Une simple connexion à l'adresse ci-dessous chargera affichera (sans mise en forme) quelques conversions de démonstration.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
http://localhost/votre_dossier/tests/jsonloader.php
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Usage dans un projet
--------------------------------------------------------------
Intégrez le module à votre projet via Composer

````json
{
    "require": {
        "ladromelaboratoire/tools": "^1.",
    },
    "repositories" : [
        {
            "type": "vcs",
            "url" : "https://github.com/ladromelaboratoire/tools.git"
        }
    ],
    "config": {
      "github-oauth": {
        "github.com": "votre-jeton-oauth"
      }
    }
}
````

Méthodes
==============================================================

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ php
//Json converti en tableau
public $jsonArray = null;

//Dernier message d'erreur
public $error_message = "";

//Lit un fichier JSON et le décode
public function jsonGrabber($file);

//Envoi chaque clef / valeur en valriable d'environnement
public function push2env();
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Usage basique
==============================================================

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ php
require '../vendor/autoload.php';
use ladromelaboratoire\tools\jsonLoader;

$file = "./sampledata/sample.json";
$tableau = new jsonLoader($file);

// Altenative call
// $tableau = new jsonLoader();
// $tableau->jsonGrabber($file);

echo "<pre>";
if($tableau->error) {
	echo $tableau->error_message;
}
else {
	print_r($tableau->jsonArray);
}
echo "</pre>";
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


Arborescence de la doc
==============================================================

- [LoadFTP](./loadftp.md.html)
- [Locations](./locations.md.html)
 
<style class="fallback">body{visibility:hidden}</style><script>markdeepOptions={tocStyle:'long'};</script>
<!-- Markdeep: --><script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?" charset="utf-8"></script>
